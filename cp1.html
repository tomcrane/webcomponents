<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Canvas panel 1</title>
    <link href="style-common.css" rel="stylesheet">
    <script src="cp-common.js"></script>
    <script src="cp1.js"></script>
</head>

<body>

    <h2>Canvas Panel Developer Narrative - Version 1</h2>

    <p><a href="/">Intro</a> | Version 1 | <a href="cp2.html">Version 2</a> | <a href="viewer1.html">Viewer 1</a></p>

<xmp>
    <div is="canvas-panel-1" id="cp1" class="canvaspanel" 
        data-canvas-uri="https://wellcomelibrary.org/iiif/b18035723/canvas/c8"
        data-partof-uri="https://tomcrane.github.io/webcomponents/wunder.json">
    </div>
</xmp>

    <p>In this type of usage, CP is entirely declarative. It needs to go off and load things uder the hood.
        In this case it will need to load the manifest, then find the canvas in it, then render the canvas.

        To be useful for people who want to do this, CP needs to have all the normalisation to P3 <i>built in</i>.
    </p>
    <p>
        The crucial thing is, I don't know what's on this canvas.
        I don't even know if it has an image, image with tilesource, multiple images, Choice,
        Audio, Video, text.

        As my viewer gets more sophisticated, I might want to deal with more stuff.
        But do I work out what the stuff is, outside of CP?

        Or do I react to what CP finds on the canvas?
    </p>

    <p>The thing you are setting the size of in the <a href="style-common.css">linked CSS</a> isn't a canvas.

        You probably don't know how big the canvas is at this point. It's a <b>viewport</b> - the space in which
        canvas panel is free to render the canvas (or part of it).</p>

<xmp>
.canvaspanel {
    width: 600px;
    height: 600px;
    padding:2px;
    border:1px solid green;
    background-color:black;
}
</xmp>

<xmp>
    <div is="canvas-panel-1" id="cp1" class="canvaspanel" 
        data-canvas-uri="https://wellcomelibrary.org/iiif/b18035723/canvas/c8"
        data-partof-uri="https://tomcrane.github.io/webcomponents/wunder.json">
    </div>
</xmp>

    <div is="canvas-panel-1" id="cp1" class="canvaspanel" 
        data-canvas-uri="https://wellcomelibrary.org/iiif/b18035723/canvas/c8"
        data-partof-uri="https://tomcrane.github.io/webcomponents/wunder.json">
    </div>

    <p>I haven't written any code here to respond to anything on that canvas that might need
        a user interaction... Like Choice. Or a hyperlinking annotation... what should that do?
    </p>
    <p> Another example</p>

<xmp>
    <div is="canvas-panel-1" id="cp1" class="canvaspanel" 
        data-canvas-uri="https://wellcomelibrary.org/iiif/b22047347/canvas/c24"
        data-partof-uri="https://tomcrane.github.io/webcomponents/wunder.json">
    </div>
</xmp>

    <div is="canvas-panel-1" id="cp1" class="canvaspanel" 
        data-canvas-uri="https://wellcomelibrary.org/iiif/b22047347/canvas/c24"
        data-partof-uri="https://tomcrane.github.io/webcomponents/wunder.json">
    </div>

    <p>The red border belongs inside CP. You'd probably control whether it was visible, usually not, but I'm showing
        it here to indicate the canvas that is being shown in this viewport.
    </p>
    <p>While the component here would be very useful, I don't think this is Canvas Panel.
        This feels like a component that's a wrapper around CP - taking the attributes and then loading the resources.

    </p>
    <p>Other things a component like this could do - take a highlighting annotation, render just that part.</p>

<xmp>
    <div is="iiif-resource-loader" id="ir1" class="canvaspanel" 
        data-canvas-uri="https://wellcomelibrary.org/iiif/b22047347/canvas/c24"
        data-partof-uri="https://tomcrane.github.io/webcomponents/wunder.json">
    </div>
</xmp>

    <p>or...</p>

<xmp>
    <div is="iiif-resource-loader" id="ir1" class="canvaspanel" 
        data-canvas-uri="https://wellcomelibrary.org/iiif/b22047347/canvas/c24"
        data-partof-uri="https://tomcrane.github.io/webcomponents/wunder.json" data-xywh="100,500,300,1000">
    </div>
</xmp>

    <p>Or, you would initialise it with an annotation as per
        <a href="https://docs.google.com/document/d/1LKhEWWuYF-8KLkKcW_u2GlvX0epohwc7OYOVjICie5M">Import
            to viewers</a>.</p>


    <p>On to <a href="cp2.html">Version 2</a></p>
</body>

</html>