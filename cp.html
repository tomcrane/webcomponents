<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .canvaspanel {
            width: 600px;
            height: 600px;
            padding:2px;
            border:1px solid green;
            background-color:black;
        }
    </style>
    <script src="cp1.js"></script>
    <!-- <script src="cp2.js"></script> -->
</head>
<body>


    <p>In this type of usage, CP is entirely declarative. It needs to go off and load things uder the hood.
        In this case it will need to load the manifest, then find the canvas in it, then 

        To be useful for people who want to do this, CP needs to have all the normalisation to P3 built in.

        The crucial thing is, I don't know what's on this canvas.
        I don't even know if it has an image, image with tilesource, multiple images, Choice,
        Audio, Video, text.

        As my viewer gets more sophisticated, I might want to deal with more stuff.
        But do I work out what the stuff is, outside of CP?
        
        Or do I react to what CP finds on the canvas?
    </p>
    <div is="canvas-panel-1" id="cp1" class="canvaspanel"
        data-canvas-uri="https://wellcomelibrary.org/iiif/b18035723/canvas/c8"
        data-partof-uri="https://tomcrane.github.io/webcomponents/wunder.json">
    </div>

    <p>I haven't written any code here to respond to anything on that canvas that might need
     a user interaction...
     Like Choice. Or a hyperlinking annotation... what should that do?

     Bubble up.

    </p>
    <hr/>

    <p>This example is different. The developer has taken more control of the process, including
        the loading of resources. Obtaining and traversing IIIF resources is done before passing
         to CP for rendering.
    </p>
    <p>Does this suggest that these are actually two different components?</p>
<!-- 
    <div is="canvas-panel-2" id="cp2" class="canvaspanel"></div>

    <script>
        let response = await fetch("https://tomcrane.github.io/webcomponents/wunder.json");
        let manifest = await response.json();
        // manifest = p3Normaliser.normalise(manifest);  // if we're not sure...
        cp2 = document.getElementById("cp2");
        cp2.canvas = manifest.items[8];
    </script> -->

    <p>So are we dealing with two components here? 
        This is more like the existing react.
        But... the existing react needs to stop at the point it enters the canvas.
    </p>
    
    <p>Navigation components aren't canvas panel.
        They are part of the set of tools and components around CP.

        Just as CP has components under it.
        But the developer using CP doesn't necessarily have to see the components under it.
    </p>
</body>
</html>